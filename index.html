<!DOCTYPE html>
<title>Portal Im贸veis</title>
<link rel="stylesheet" href="css/style.css">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>


<header class="topo">
	<div class="top-inner">
		<div class="logo">
			<a href="index.html"><h1>Valorize</h1></a>
		</div>

		<nav class="menu">
			<a href="index.html">In铆cio</a>
			<a href="perfil.html">Meu Perfil</a>
			<a href="suporte.html">Suporte</a>
		</nav>

		<div class="actions">
			<a href="login.html" class="btn btn-secondary">Entrar</a>
			<a href="#" class="btn cta">Anunciar gr谩tis</a>
		</div>
	</div>
</header>





<section class="filtros">
<select>
<option>Todos os Estados</option>
<option>PB</option>
<option>PE</option>
<option>RN</option>
<option>CE</option>
</select>


<select>
<option>Venda</option>
<option>Aluguel</option>
</select>
<button id="btnPesquisar" class="btn">Pesquisar</button>
</section>


<section class="cards">


<div class="card">
<img src="https://via.placeholder.com/300x200">
<h3>Casa no Centro</h3>
<p> Campina Grande - PB</p>
<span>Venda</span>
<strong>R$ 450.000</strong>
</div>


<div class="card">
<img src="https://via.placeholder.com/300x200">
<h3>Apartamento mobiliado</h3>
<p> Jo茫o Pessoa - PB</p>
<span>Aluguel</span>
<strong>R$ 2.200 / m锚s</strong>
</div>


</section>

<section class="cards" id="listaImoveis">
    <p>Carregando im贸veis...</p>
</section>

<script>
  async function carregarImoveis() {
    try {
      // Busca os im贸veis da sua API
      const response = await fetch('http://localhost:3333/imoveis');
      const imoveis = await response.json();

      const container = document.querySelector('.cards');
      container.innerHTML = ''; // Limpa os cards de exemplo ("Casa no Centro", etc)

      imoveis.forEach(imovel => {
        // Cria o card para cada im贸vel vindo do banco
        container.innerHTML += `
          <div class="card">
            <img src="${imovel.imagem_url || 'https://via.placeholder.com/300x200'}" alt="Im贸vel">
            <h3>${imovel.titulo}</h3>
            <p> ${imovel.cidade} - ${imovel.estado}</p>
            <span>${imovel.tipo_negocio}</span> 
            <strong>R$ ${imovel.valor.toLocaleString('pt-BR')}</strong>
          </div>
        `;
      });
    } catch (error) {
      console.error("Erro ao carregar vitrine:", error);
    }
  }

  // Executa assim que abrir a p谩gina
  document.addEventListener('DOMContentLoaded', carregarImoveis);
</script>

<script src="js/script.js"></script>